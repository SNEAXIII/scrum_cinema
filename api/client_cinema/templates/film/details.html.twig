{% extends 'base.html.twig' %}

{% block title %}Détail de film{% endblock %}
{% block body %}
    <link href="{{ asset("styles/table.css") }}" rel="stylesheet">
    <h1>{{ film.titre }}</h1>
    <p>Durée : {{ film.duree }}</p>
    <h1 id="tableTitle">Voici la liste des séances:</h1>
    <div class="d-flex mx-auto flex-column" style="width: 90% ; margin:auto">
        <table>
            <thead>
            <tr>
                <th class="date">Date</th>
                <th class="heure">Heure</th>
                <th class="salle">Salle</th>
                <th class="reduit">Prix réduit</th>
                <th class="normal">Prix normal</th>
                {% if estConnecte == true%}
                    <th class="reservation">Réservation</th>
                {% endif  %}
            </tr>
            </thead>
            <tbody>
            {% for seance in film.seances %}
                <tr>
                    <td>{{ seance.dateProjection}}</td>
                    <td>{{ seance.heureProjection}}</td>
                    <td>{{ seance.salle.nom}}</td>
                    <td>{{ seance.tarifReduit}} €</td>
                    <td>{{ seance.tarifNormal}} €</td>
                    {% if estConnecte == true%}
                        <td><a href="{{ path('app_reserver', {'id': seance.id}) }}">Réserver</a></td>
                    {% endif  %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
        {% if estConnecte == false%}
            <p>Pour réserver une séance vous devez être connecté ><a href="{{ path('app_login') }}">Se connecter</a><</p>
        {% endif  %}
    </div>
{% endblock %}
